<Window x:Class="NetworkStatsTool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Network Stats Tool"
        Width="520" Height="489"
        MinWidth="520" MinHeight="489"
        Background="Transparent"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        WindowStyle="None"
        ResizeMode="CanResize"
        SizeToContent="Manual"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True"
        TextOptions.TextFormattingMode="Display">



    <Grid x:Name="RootGrid">
        <!-- Background Panel (visible in normal mode only) -->
        <Border x:Name="WindowBackground"
                Background="#0D0D1A"
                CornerRadius="15"
                BorderBrush="#2A2A4E"
                BorderThickness="1.5">
            <Border.Effect>
                <DropShadowEffect Color="Black" Opacity="0.6" BlurRadius="20" ShadowDepth="5"/>
            </Border.Effect>
        </Border>

        <!-- Title Bar for dragging window -->
        <Grid x:Name="TitleBar" Height="40" VerticalAlignment="Top" Background="Transparent"
              MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <TextBlock Text="Network Stats Tool" 
                       Foreground="#8AB4FF" 
                       FontSize="13" 
                       FontWeight="SemiBold"
                       VerticalAlignment="Center"
                       Margin="20,0,0,0"/>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,15,0">
                <Button Content="─" Width="35" Height="30" Click="Minimize_Click"
                        Background="Transparent" Foreground="#AAAAAA" BorderThickness="0"
                        FontSize="16" FontWeight="Bold" Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="6" Padding="5">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#1A1A2E"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                <Button Content="✕" Width="35" Height="30" Click="Close_Click"
                        Background="Transparent" Foreground="#AAAAAA" BorderThickness="0"
                        FontSize="14" FontWeight="Bold" Cursor="Hand" Margin="5,0,0,0">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="6" Padding="5">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FF4444"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Grid>

        <Grid Margin="0,40,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Main Dashboard Grid -->
            <UniformGrid x:Name="MainGrid" Grid.Row="0" Rows="2" Columns="2" Margin="15">

                <!-- Connection Overview -->
                <Border x:Name="OverviewBorder" CornerRadius="15" Margin="8" BorderThickness="1.5"
                        BorderBrush="#5B6BFF" Background="#15152B">
                    <Border.Effect>
                        <DropShadowEffect Color="#5B6BFF" Opacity="0.3" BlurRadius="10" ShadowDepth="0"/>
                    </Border.Effect>
                    <StackPanel Margin="15">
                        <TextBlock Text="Connection Overview" FontSize="15" FontWeight="Bold" Foreground="#8AB4FF" Margin="0,0,0,8"/>
                        <TextBlock Text="Adapter:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="Type:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="State:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="Internet:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                    </StackPanel>
                </Border>

                <!-- IP Configuration -->
                <Border x:Name="IpBorder" CornerRadius="15" Margin="8" BorderThickness="1.5"
                        BorderBrush="#C36BFF" Background="#15152B">
                    <Border.Effect>
                        <DropShadowEffect Color="#C36BFF" Opacity="0.3" BlurRadius="10" ShadowDepth="0"/>
                    </Border.Effect>
                    <StackPanel Margin="15">
                        <TextBlock Text="IP Configuration" FontSize="15" FontWeight="Bold" Foreground="#E59BFF" Margin="0,0,0,8"/>
                        <TextBlock Text="Local IP:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="Gateway:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="DNS:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="Public IP:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                    </StackPanel>
                </Border>

                <!-- Wi-Fi Details -->
                <Border x:Name="WifiBorder" CornerRadius="15" Margin="8" BorderThickness="1.5"
                        BorderBrush="#6AE1FF" Background="#15152B">
                    <Border.Effect>
                        <DropShadowEffect Color="#6AE1FF" Opacity="0.3" BlurRadius="10" ShadowDepth="0"/>
                    </Border.Effect>
                    <StackPanel Margin="15">
                        <TextBlock Text="Wi-Fi Details" FontSize="15" FontWeight="Bold" Foreground="#7FE8FF" Margin="0,0,0,8"/>
                        <TextBlock Text="SSID:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="Signal:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock Text="MAC:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                    </StackPanel>
                </Border>

                <!-- Speed & Latency -->
                <Border x:Name="SpeedPanel" CornerRadius="15" Margin="8" BorderThickness="1.5"
                        BorderBrush="#B875FF" Background="#15152B"
                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                        MouseLeftButtonDown="SpeedPanel_MouseLeftButtonDown"
                        Cursor="Arrow">
                    <Border.Effect>
                        <DropShadowEffect Color="#B875FF" Opacity="0.3" BlurRadius="10" ShadowDepth="0"/>
                    </Border.Effect>
                    <StackPanel Margin="15">
                        <DockPanel Margin="0,0,0,8" Cursor="Arrow">

                            <TextBlock Text="Speed &amp; Latency" FontSize="15" FontWeight="Bold" Foreground="#D9A7FF" DockPanel.Dock="Left"/>
                            <ToggleButton x:Name="FocusToggle"
              Width="45" Height="24"
              DockPanel.Dock="Right"
              Checked="FocusToggle_Checked"
              Unchecked="FocusToggle_Unchecked"
              ToolTip="Focus Mode"
              Cursor="Hand">
                                <!-- 👈 Always hand, even when clicked -->
                                <ToggleButton.Template>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Grid>
                                            <!-- Outer track -->
                                            <Border x:Name="Track"
                        CornerRadius="12"
                        Background="#2A2A4E"
                        BorderBrush="#444466"
                        BorderThickness="1"/>

                                            <!-- Thumb -->
                                            <Ellipse x:Name="Thumb"
                         Width="18" Height="18"
                         Fill="#6AE1FF"
                         HorizontalAlignment="Left"
                         Margin="3,0,0,0">
                                                <Ellipse.Effect>
                                                    <DropShadowEffect Color="#6AE1FF"
                                          Opacity="0.5"
                                          BlurRadius="8"
                                          ShadowDepth="0"/>
                                                </Ellipse.Effect>
                                            </Ellipse>
                                        </Grid>

                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsChecked" Value="True">
                                                <Setter TargetName="Track" Property="Background" Value="#6AE1FF"/>
                                                <Setter TargetName="Thumb" Property="Fill" Value="#0A0A17"/>
                                                <Setter TargetName="Thumb" Property="Margin" Value="24,0,0,0"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </ToggleButton.Template>
                            </ToggleButton>


                        </DockPanel>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,8">
                            <TextBlock x:Name="DownloadText" Text="⬇ 0.00 MB/s" Foreground="#63FFB5" FontSize="14" Margin="0,0,20,0"/>
                            <TextBlock x:Name="UploadText" Text="⬆ 0.00 MB/s" Foreground="#FFE06A" FontSize="14"/>
                        </StackPanel>

                        <TextBlock x:Name="PingText" Text="Ping:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock x:Name="LossText" Text="Packet Loss:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                        <TextBlock x:Name="StatusText" Text="Status:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                    </StackPanel>
                </Border>
            </UniformGrid>

            <!-- Bottom Buttons Container -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Refresh Button -->
                <Button x:Name="RefreshButton" Grid.Column="0"
                        Content="⟳  Refresh"
                        Width="180" Height="45"
                        HorizontalAlignment="Right"
                        Margin="0,15,10,15"
                        FontSize="14" FontWeight="SemiBold"
                        Foreground="White"
                        Click="Refresh_Click"
                        Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" CornerRadius="12" BorderThickness="0">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                    <GradientStop Color="#6AE1FF" Offset="0"/>
                                                    <GradientStop Color="#C36BFF" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <Border.Effect>
                                                <DropShadowEffect Color="#6AE1FF" Opacity="0.4" BlurRadius="15" ShadowDepth="0"/>
                                            </Border.Effect>
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Effect">
                                                    <Setter.Value>
                                                        <DropShadowEffect Color="#6AE1FF" Opacity="0.7" BlurRadius="20" ShadowDepth="0"/>
                                                    </Setter.Value>
                                                </Setter>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- Internet Kill Switch Toggle -->
                <ToggleButton x:Name="InternetToggle" Grid.Column="1"
                              Width="180" Height="45"
                              HorizontalAlignment="Left"
                              Margin="10,15,0,15"
                              Checked="InternetKillSwitch_Checked"
                              Unchecked="InternetKillSwitch_Unchecked"
                              ToolTip="Kill Switch: Disable/Enable Internet"
                              Cursor="Hand">
                    <ToggleButton.Style>
                        <Style TargetType="ToggleButton">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Border x:Name="border" CornerRadius="12" BorderThickness="0">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                    <GradientStop Color="#4CAF50" Offset="0"/>
                                                    <GradientStop Color="#66BB6A" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <Border.Effect>
                                                <DropShadowEffect Color="#4CAF50" Opacity="0.4" BlurRadius="15" ShadowDepth="0"/>
                                            </Border.Effect>
                                            <TextBlock x:Name="buttonText" 
                                                       Text="🌐 Internet ON" 
                                                       Foreground="White"
                                                       FontSize="14"
                                                       FontWeight="SemiBold"
                                                       HorizontalAlignment="Center" 
                                                       VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsChecked" Value="True">
                                                <Setter TargetName="border" Property="Background">
                                                    <Setter.Value>
                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                            <GradientStop Color="#F44336" Offset="0"/>
                                                            <GradientStop Color="#E53935" Offset="1"/>
                                                        </LinearGradientBrush>
                                                    </Setter.Value>
                                                </Setter>
                                                <Setter TargetName="border" Property="Effect">
                                                    <Setter.Value>
                                                        <DropShadowEffect Color="#F44336" Opacity="0.4" BlurRadius="15" ShadowDepth="0"/>
                                                    </Setter.Value>
                                                </Setter>
                                                <Setter TargetName="buttonText" Property="Text" Value="🔴 Internet OFF"/>
                                            </Trigger>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Effect">
                                                    <Setter.Value>
                                                        <DropShadowEffect Color="#4CAF50" Opacity="0.7" BlurRadius="20" ShadowDepth="0"/>
                                                    </Setter.Value>
                                                </Setter>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </ToggleButton.Style>
                </ToggleButton>
            </Grid>
        </Grid>

        <!-- Resize Grip (bottom-right corner) - Hidden in focus mode -->
        <Grid x:Name="ResizeGrip" 
              Width="20" Height="20" 
              HorizontalAlignment="Right" 
              VerticalAlignment="Bottom" 
              Background="Transparent"
              Cursor="SizeNWSE"
              MouseLeftButtonDown="ResizeGrip_MouseLeftButtonDown"
              Margin="0,0,5,5">
            <Path Data="M 0,10 L 10,0 M 0,15 L 15,0 M 0,20 L 20,0" 
                  Stroke="#6AE1FF" 
                  StrokeThickness="1.5" 
                  Opacity="0.6"/>
        </Grid>
    </Grid>
</Window>
